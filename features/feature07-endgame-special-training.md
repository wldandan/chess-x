# ç‰¹æ€§7ï¼šæ®‹å±€ä¸“é¡¹è®­ç»ƒ

## çŠ¶æ€
ðŸ“‹ å¾…å¼€å‘

## æ¦‚è¿°
ç³»ç»ŸåŒ–è®­ç»ƒå„ç±»æ®‹å±€æŠ€å·§å’ŒæŠ€æœ¯ï¼Œæé«˜ç»ˆç»“èƒ½åŠ›å’Œç²¾ç¡®è®¡ç®—èƒ½åŠ›ï¼Œç¡®ä¿ä¼˜åŠ¿å±€é¢è½¬åŒ–ä¸ºèƒœåˆ©ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 7.1 æ®‹å±€åˆ†ç±»è®­ç»ƒ
- **åŸºç¡€æ®‹å±€**ï¼šçŽ‹å…µæ®‹å±€ã€å•è½¦æ€çŽ‹ã€åŒè±¡æ€çŽ‹
- **å­åŠ›æ®‹å±€**ï¼šåŽæ®‹å±€ã€è½¦æ®‹å±€ã€é©¬è±¡æ®‹å±€
- **å…µåž‹æ®‹å±€**ï¼šé€šè·¯å…µã€è¿œæ–¹é€šè·¯å…µã€å…µé“¾ä¼˜åŠ¿
- **å¤æ‚æ®‹å±€**ï¼šå¤šå­æ®‹å±€ã€å±€é¢æ€§æ®‹å±€ã€ç†è®ºå’Œå±€

### 7.2 æŠ€æœ¯è¦ç‚¹è®­ç»ƒ
- **å¯¹çŽ‹æŠ€å·§**ï¼šå…³é”®æ ¼ç†è®ºã€æ­£æ–¹å½¢æ³•åˆ™
- **é€¼è¿›æ–¹æ³•**ï¼šè½¦çº¿é€¼çŽ‹ã€è±¡çº¿é€¼çŽ‹ã€é©¬æ­¥é€¼çŽ‹
- **æˆ˜æœ¯æŠ€å·§**ï¼šè¿‡æ¸¡ã€å¼ƒå­ã€æˆ˜æœ¯ç»„åˆ
- **ç²¾ç¡®è®¡ç®—**ï¼šå¼ºåˆ¶å˜åŒ–è®¡ç®—ã€é•¿å°†æ£€æµ‹

### 7.3 å®žæˆ˜æ¨¡æ‹Ÿè®­ç»ƒ
- **æ—¶é—´åŽ‹åŠ›æ®‹å±€**ï¼šé™æ—¶ç²¾ç¡®è®¡ç®—è®­ç»ƒ
- **å¿ƒç†å¯¹æŠ—æ®‹å±€**ï¼šå‡åŠ¿æ®‹å±€å¿ƒç†æˆ˜
- **ä¼˜åŠ¿è½¬åŒ–è®­ç»ƒ**ï¼šå°†ä¼˜åŠ¿è½¬åŒ–ä¸ºèƒœåˆ©
- **åŠ£åŠ¿é˜²å®ˆè®­ç»ƒ**ï¼šå¯»æ‰¾å’Œæ£‹æœºä¼š

## æŠ€æœ¯å®žçŽ°

### æ®‹å±€æ•°æ®åº“
```javascript
const endgameDatabase = {
  'KPvsK': {
    name: 'çŽ‹å…µå¯¹çŽ‹',
    difficulty: 1,
    categories: ['basic', 'pawn'],
    theory: {
      keySquares: ['å…³é”®æ ¼ç†è®º', 'æ­£æ–¹å½¢æ³•åˆ™'],
      techniques: ['å¯¹çŽ‹', 'çªç ´', 'é€¼è¿›'],
      winConditions: ['å…µå‡å˜'],
      drawConditions: ['é€¼å’Œ', 'ç†è®ºå®ˆå’Œ']
    },
    positions: [
      {
        id: 'kpvk-001',
        fen: '8/8/8/3k4/8/3P4/3K4/8 w - -',
        name: 'è¿œæ–¹é€šè·¯å…µ',
        solution: ['1. Kc2', 'Ke6', '2. Kc3', 'Kd5', '3. Kb4', 'Kd4', '4. Kb5', 'Kd5', '5. d4', 'èŽ·èƒœ'],
        explanation: 'ç™½æ–¹åˆ©ç”¨å…³é”®æ ¼ç†è®ºï¼ŒçŽ‹èµ°åˆ°å…µå‰æ–¹å…³é”®æ ¼'
      },
      // æ›´å¤šçŽ‹å…µæ®‹å±€
    ]
  },
  'RKvsK': {
    name: 'è½¦çŽ‹å¯¹çŽ‹',
    difficulty: 2,
    categories: ['basic', 'piece'],
    theory: {
      keySquares: ['è½¦çº¿é€¼çŽ‹', 'ç¼©å°åŒ…å›´åœˆ'],
      techniques: ['å»ºç«‹æ€ç½‘', 'é€¼çŽ‹åˆ°è¾¹çº¿'],
      winConditions: ['å°†æ­»'],
      steps: 16 // æœ€å¤šæ­¥æ•°æ€çŽ‹
    },
    positions: [
      {
        id: 'rkvk-001',
        fen: '8/8/8/8/8/4k3/8/R6K w - -',
        name: 'è½¦æ€çŽ‹åŸºæœ¬ä½ç½®',
        solution: ['1. Ra2', 'Kd3', '2. Kf2', 'Kd4', '3. Ra4+', 'Kd5', '4. Kf3', 'ç¼©å°åŒ…å›´åœˆ'],
        explanation: 'è½¦å’ŒçŽ‹é…åˆï¼Œé€æ¸ç¼©å°é»‘çŽ‹æ´»åŠ¨èŒƒå›´'
      }
    ]
  },
  // æ›´å¤šæ®‹å±€ç±»åž‹
};
```

### æ®‹å±€è¯„ä¼°å¼•æ“Ž
```javascript
class EndgameEvaluator {
  constructor(position) {
    this.position = position;
    this.material = this.evaluateMaterial();
    this.pawnStructure = this.evaluatePawnStructure();
    this.kingActivity = this.evaluateKingActivity();
    this.pieceActivity = this.evaluatePieceActivity();
  }

  evaluateMaterial() {
    // ç²¾ç¡®è®¡ç®—æ®‹å±€å­åŠ›ä»·å€¼
    const values = {
      'P': 100, 'N': 320, 'B': 330, 'R': 500, 'Q': 900,
      // æ®‹å±€ç‰¹å®šè°ƒæ•´
      'P_endgame': 110, // å…µåœ¨æ®‹å±€ä»·å€¼ç•¥å¢ž
      'B_pair': 50,     // åŒè±¡ä¼˜åŠ¿
      'R_open': 30,     // å¼€æ”¾çº¿è½¦åŠ æˆ
    };

    // è®¡ç®—å­åŠ›æ€»å’Œå’Œæ®‹å±€ç‰¹å¾
    let total = 0;
    let features = {};

    // ... å…·ä½“è®¡ç®—é€»è¾‘

    return { total, features };
  }

  evaluatePawnStructure() {
    const structure = {
      passedPawns: this.countPassedPawns(),
      isolatedPawns: this.countIsolatedPawns(),
      doubledPawns: this.countDoubledPawns(),
      backwardPawns: this.countBackwardPawns(),
      pawnChains: this.analyzePawnChains()
    };

    // è®¡ç®—å…µåž‹å¾—åˆ†
    let score = 0;
    score += structure.passedPawns * 30; // é€šè·¯å…µåŠ æˆ
    score -= structure.isolatedPawns * 20; // å­¤å…µç½šåˆ†
    score -= structure.doubledPawns * 15; // å å…µç½šåˆ†

    return { structure, score };
  }

  evaluateKingActivity() {
    // è¯„ä¼°çŽ‹åœ¨æ®‹å±€çš„æ´»è·ƒåº¦
    const kingPosition = this.getKingPosition();
    const centerDistance = this.distanceToCenter(kingPosition);
    const pawnShield = this.evaluatePawnShield(kingPosition);
    const mobility = this.calculateKingMobility(kingPosition);

    return {
      centerProximity: 1 - (centerDistance / 4), // 0-1, è¶Šè¿‘ä¸­å¿ƒè¶Šé«˜
      safety: pawnShield,
      activity: mobility,
      score: (centerProximity * 40) + (safety * 30) + (activity * 30)
    };
  }

  getTotalEvaluation() {
    return {
      material: this.material.total,
      pawnStructure: this.pawnStructure.score,
      kingActivity: this.kingActivity.score,
      pieceActivity: this.pieceActivity.score,
      total: this.material.total + this.pawnStructure.score +
             this.kingActivity.score + this.pieceActivity.score,
      advantage: this.determineAdvantage()
    };
  }
}
```

## ç”¨æˆ·ç•Œé¢

### æ®‹å±€è®­ç»ƒç›®å½•
```
æ®‹å±€è®­ç»ƒè¥
â”œâ”€â”€ åŸºç¡€æ®‹å±€ (8/10å®Œæˆ)
â”‚   â”œâ”€â”€ çŽ‹å…µæ®‹å±€ â˜…â˜…â˜…â˜…â˜…
â”‚   â”œâ”€â”€ å•è½¦æ€çŽ‹ â˜…â˜…â˜…â˜†â˜†
â”‚   â”œâ”€â”€ åŒè±¡æ€çŽ‹ â˜…â˜…â˜†â˜†â˜†
â”‚   â””â”€â”€ å•åŽæ€çŽ‹ â˜…â˜…â˜…â˜…â˜…
â”œâ”€â”€ å­åŠ›æ®‹å±€ (3/12å®Œæˆ)
â”‚   â”œâ”€â”€ åŽå¯¹è½¦å…µ â˜…â˜†â˜†â˜†â˜†
â”‚   â”œâ”€â”€ è½¦å…µæ®‹å±€ â˜…â˜…â˜†â˜†â˜†
â”‚   â”œâ”€â”€ é©¬è±¡æ®‹å±€ â˜†â˜†â˜†â˜†â˜†
â”‚   â””â”€â”€ åŒè‰²è±¡æ®‹å±€ â˜†â˜†â˜†â˜†â˜†
â”œâ”€â”€ å…µåž‹æ®‹å±€ (1/8å®Œæˆ)
â”‚   â”œâ”€â”€ é€šè·¯å…µæŠ€å·§ â˜…â˜†â˜†â˜†â˜†
â”‚   â”œâ”€â”€ è¿œæ–¹é€šè·¯å…µ â˜†â˜†â˜†â˜†â˜†
â”‚   â””â”€â”€ å…µçš„å¤šä½™æ€§ â˜†â˜†â˜†â˜†â˜†
â””â”€â”€ å®žæˆ˜æ®‹å±€ (0/15å®Œæˆ)
    â””â”€â”€ é”å®šä¸­...
```

### æ®‹å±€ç»ƒä¹ ç•Œé¢
```
æ®‹å±€ç±»åž‹ï¼šçŽ‹å…µå¯¹çŽ‹
éš¾åº¦ï¼šLevel 2/4 (ä¸­ç­‰)
ç›®æ ‡ï¼šç™½æ–¹å…ˆèµ°ï¼ŒèŽ·èƒœ

å½“å‰å±€é¢ï¼š
8/8/8/3k4/8/3P4/3K4/8 w - -

[å±€é¢æ£‹ç›˜]

æç¤ºï¼šè¿ç”¨å…³é”®æ ¼ç†è®ºï¼ŒçŽ‹è¦èµ°åˆ°å…µå‰æ–¹çš„å…³é”®æ ¼

è®¡æ—¶ï¼š01:45 / 03:00

[èµ°æ³•è¾“å…¥]
1. _______

[é€‰é¡¹]
A. Kc2    B. d4     C. Ke2    D. è¯·æ±‚æç¤º
```

### æ®‹å±€ç†è®ºè®²è§£
```
å…³é”®æ ¼ç†è®º (å…³é”®æ­£æ–¹å½¢)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å¯¹äºŽç™½å…µåœ¨d3ï¼Œå…³é”®æ ¼æ˜¯ï¼š
c4ã€d4ã€e4 (å…µåœ¨ç¬¬3æ¨ªçº¿)
c5ã€d5ã€e5 (å…µåœ¨ç¬¬4æ¨ªçº¿)
c6ã€d6ã€e6 (å…µåœ¨ç¬¬5æ¨ªçº¿)

èŽ·èƒœæ¡ä»¶ï¼š
1. ç™½çŽ‹è¿›å…¥å…³é”®æ ¼
2. é»‘çŽ‹æ— æ³•é˜»æŒ¡
3. å…µå®‰å…¨æŽ¨è¿›å‡å˜

å…¸åž‹æŠ€å·§ï¼š
1. å¯¹çŽ‹ï¼šè¿«ä½¿é»‘çŽ‹è®©å‡ºå…³é”®æ ¼
2. çªç ´ï¼šçŽ‹ä»Žä¾§é¢è¿‚å›ž
3. é€¼è¿›ï¼šé€æ­¥ç¼©å°é»‘çŽ‹ç©ºé—´

ç»ƒä¹ é‡ç‚¹ï¼š
- è¯†åˆ«å…³é”®æ ¼ä½ç½®
- è®¡ç®—å¯¹çŽ‹è·¯çº¿
- é¿å…é€¼å’Œ
```

## è®­ç»ƒæ¨¡å¼

### 1. æŠ€æœ¯è®­ç»ƒæ¨¡å¼
- **ç›®æ ‡**ï¼šæŽŒæ¡ç‰¹å®šæ®‹å±€æŠ€æœ¯
- **å½¢å¼**ï¼šå›ºå®šå±€é¢ç²¾ç¡®è®¡ç®—
- **éš¾åº¦**ï¼šä»Žç®€å•åˆ°å¤æ‚æ¸è¿›
- **åé¦ˆ**ï¼šæŠ€æœ¯è¦ç‚¹æŽŒæ¡åº¦è¯„åˆ†

### 2. è®¡ç®—è®­ç»ƒæ¨¡å¼
- **ç›®æ ‡**ï¼šæé«˜é•¿çº¿è®¡ç®—èƒ½åŠ›
- **å½¢å¼**ï¼šå¤šæ­¥å¼ºåˆ¶å˜åŒ–è®¡ç®—
- **è®¡æ—¶**ï¼šé™æ—¶ç²¾ç¡®è®¡ç®—
- **åé¦ˆ**ï¼šè®¡ç®—æ·±åº¦å’Œå‡†ç¡®æ€§

### 3. å®žæˆ˜æ¨¡æ‹Ÿæ¨¡å¼
- **ç›®æ ‡**ï¼šå®žæˆ˜æ®‹å±€å¤„ç†èƒ½åŠ›
- **å½¢å¼**ï¼šå®Œæ•´å¯¹å±€æ®‹å±€é˜¶æ®µ
- **æ¡ä»¶**ï¼šæ—¶é—´åŽ‹åŠ›ã€å¿ƒç†åŽ‹åŠ›
- **åé¦ˆ**ï¼šå†³ç­–è´¨é‡å’Œç»“æžœ

### 4. å¼±ç‚¹é’ˆå¯¹æ€§æ¨¡å¼
- **ç›®æ ‡**ï¼šè¡¥å¼ºä¸ªäººæ®‹å±€å¼±ç‚¹
- **å½¢å¼**ï¼šä¸ªæ€§åŒ–å¼±ç‚¹è®­ç»ƒ
- **å†…å®¹**ï¼šé’ˆå¯¹ç‰¹å®šç±»åž‹æ®‹å±€
- **åé¦ˆ**ï¼šå¼±ç‚¹æ”¹å–„ç¨‹åº¦

## æ®‹å±€æŠ€æœ¯ä½“ç³»

### çŽ‹å…µæ®‹å±€æŠ€æœ¯
- **å…³é”®æ ¼ç†è®º**ï¼šä¸åŒä½ç½®å…µçš„å…³é”®æ ¼
- **æ­£æ–¹å½¢æ³•åˆ™**ï¼šå…µèƒ½å¦å®‰å…¨å‡å˜
- **å¯¹çŽ‹æŠ€å·§**ï¼šä¸»åŠ¨å¯¹çŽ‹å’Œå›žé¿å¯¹çŽ‹
- **çªç ´æˆ˜æœ¯**ï¼šå¼ƒå…µçªç ´åˆ›é€ é€šè·¯å…µ

### è½¦æ®‹å±€æŠ€æœ¯
- **è½¦çº¿é€¼çŽ‹**ï¼šåˆ©ç”¨è½¦çº¿é™åˆ¶çŽ‹
- **ä¾§é¢æ”»å‡»**ï¼šä»Žä¾§é¢æ”»å‡»å¯¹æ–¹å…µ
- **é€šè·¯å…µæ”¯æŒ**ï¼šè½¦æ”¯æŒé€šè·¯å…µå‰è¿›
- **èƒŒåŽæ”»å‡»**ï¼šè½¦ä»Žå…µåŽæ–¹æ”»å‡»

### é©¬è±¡æ®‹å±€æŠ€æœ¯
- **æ€çŽ‹é…åˆ**ï¼šé©¬è±¡æ€çŽ‹çš„å›ºå®šæ¨¡å¼
- **é™åˆ¶çŽ‹æ´»åŠ¨**ï¼šå»ºç«‹æŽ§åˆ¶ç½‘é™åˆ¶çŽ‹
- **å…µçš„æ”¯æŒ**ï¼šé…åˆå…µå‰è¿›å‡å˜
- **æ—¶é—´è®¡ç®—**ï¼šç²¾ç¡®æ­¥æ•°è®¡ç®—

### å…µåž‹æ®‹å±€æŠ€æœ¯
- **é€šè·¯å…µåˆ¶é€ **ï¼šå¦‚ä½•åˆ¶é€ é€šè·¯å…µ
- **è¿œæ–¹é€šè·¯å…µ**ï¼šåˆ›é€ å†³å®šæ€§ä¼˜åŠ¿
- **å…µçš„å¤šä½™æ€§**ï¼šå¤šå…µä¼˜åŠ¿çš„è½¬åŒ–
- **å…µé“¾ä¼˜åŠ¿**ï¼šåˆ©ç”¨å…µé“¾ç©ºé—´ä¼˜åŠ¿

## ä¸ªæ€§åŒ–è®­ç»ƒç³»ç»Ÿ

### æ®‹å±€èƒ½åŠ›è¯„ä¼°
```javascript
function evaluateEndgameSkills(gameHistory) {
  const skills = {
    pawnEndgames: { accuracy: 0, speed: 0, confidence: 0 },
    rookEndgames: { accuracy: 0, speed: 0, confidence: 0 },
    minorPieceEndgames: { accuracy: 0, speed: 0, confidence: 0 },
    queenEndgames: { accuracy: 0, speed: 0, confidence: 0 },
    technical: { accuracy: 0, speed: 0, confidence: 0 },
    practical: { accuracy: 0, speed: 0, confidence: 0 }
  };

  // åˆ†æžåŽ†å²å¯¹å±€ä¸­çš„æ®‹å±€è¡¨çŽ°
  gameHistory.forEach(game => {
    const endgamePhase = game.phases.endgame;
    if (endgamePhase) {
      const type = classifyEndgame(endgamePhase.position);
      skills[type].accuracy += endgamePhase.accuracy;
      skills[type].speed += endgamePhase.speed;
      skills[type].confidence += endgamePhase.confidence;
    }
  });

  // è®¡ç®—å¹³å‡å€¼
  Object.keys(skills).forEach(key => {
    const count = gameHistory.filter(g => g.phases.endgame).length;
    if (count > 0) {
      skills[key].accuracy /= count;
      skills[key].speed /= count;
      skills[key].confidence /= count;
    }
  });

  return skills;
}
```

### å¼±ç‚¹è¯Šæ–­å’Œè®­ç»ƒè®¡åˆ’
```javascript
function generateEndgameTrainingPlan(skillsAssessment) {
  const weaknesses = [];
  const strengths = [];

  // è¯†åˆ«å¼±ç‚¹å’Œå¼ºé¡¹
  Object.entries(skillsAssessment).forEach(([category, metrics]) => {
    if (metrics.accuracy < 0.6 || metrics.confidence < 0.5) {
      weaknesses.push({
        category,
        issue: metrics.accuracy < 0.6 ? 'å‡†ç¡®çŽ‡ä½Ž' : 'ä¿¡å¿ƒä¸è¶³',
        severity: 1 - Math.max(metrics.accuracy, metrics.confidence)
      });
    } else if (metrics.accuracy > 0.8 && metrics.confidence > 0.7) {
      strengths.push(category);
    }
  });

  // ç”Ÿæˆè®­ç»ƒè®¡åˆ’
  const plan = {
    focusAreas: weaknesses.sort((a, b) => b.severity - a.severity).slice(0, 3),
    maintenanceAreas: strengths.slice(0, 2),
    schedule: generateWeeklySchedule(weaknesses, strengths),
    goals: generateTrainingGoals(weaknesses)
  };

  return plan;
}
```

## æ¯”èµ›æ®‹å±€å‡†å¤‡

### 1. å¸¸è§æ®‹å±€æ¨¡å¼è®­ç»ƒ
- **æ¯”èµ›é«˜é¢‘æ®‹å±€**ï¼šç»Ÿè®¡æ¯”èµ›å¸¸è§æ®‹å±€ç±»åž‹
- **æ—¶é—´åˆ†é…ä¼˜åŒ–**ï¼šé’ˆå¯¹æ¯”èµ›æ—¶é—´åˆ†é…è®­ç»ƒ
- **å¿ƒç†å‡†å¤‡è®­ç»ƒ**ï¼šåŽ‹åŠ›ä¸‹æ®‹å±€å†³ç­–è®­ç»ƒ
- **å’Œæ£‹æŠ€å·§è®­ç»ƒ**ï¼šåŠ£åŠ¿å¯»æ‰¾å’Œæ£‹æœºä¼š

### 2. æ®‹å±€æŠ€æœ¯æ£€æŸ¥è¡¨
```
æ®‹å±€æŠ€æœ¯è‡ªæŸ¥è¡¨ï¼š
â–¡ çŽ‹å…µæ®‹å±€å…³é”®æ ¼ç†è®ºæŽŒæ¡
â–¡ å•è½¦æ€çŽ‹16æ­¥å†…å®Œæˆ
â–¡ åŒè±¡æ€çŽ‹30æ­¥å†…å®Œæˆ
â–¡ é€šè·¯å…µåˆ¶é€ å’ŒæŽ¨è¿›æŠ€å·§
â–¡ è½¦æ®‹å±€è½¦çº¿é€¼çŽ‹æŠ€æœ¯
â–¡ é©¬è±¡æ®‹å±€æ€çŽ‹é…åˆ
â–¡ ç†è®ºå’Œå±€è¯†åˆ«å’Œè¾¾æˆ
â–¡ æ—¶é—´åŽ‹åŠ›ä¸‹ç²¾ç¡®è®¡ç®—
```

### 3. æ®‹å±€å†³ç­–è®­ç»ƒ
- **ä¼˜åŠ¿æ®‹å±€**ï¼šå¦‚ä½•æœ€æœ‰æ•ˆè½¬åŒ–ä¸ºèƒœåˆ©
- **å‡åŠ¿æ®‹å±€**ï¼šå¦‚ä½•åˆ¶é€ èŽ·èƒœæœºä¼š
- **åŠ£åŠ¿æ®‹å±€**ï¼šå¦‚ä½•å¯»æ‰¾å’Œæ£‹æœºä¼š
- **å¤æ‚æ®‹å±€**ï¼šå¦‚ä½•ç®€åŒ–å±€é¢

## æŠ€æœ¯æŒ‘æˆ˜

### æŒ‘æˆ˜1ï¼šæ®‹å±€ç†è®ºå‡†ç¡®æ€§
- **è§£å†³æ–¹æ¡ˆ**ï¼šåŸºäºŽå›½é™…è±¡æ£‹æ®‹å±€ç†è®ºæ•°æ®åº“
- **éªŒè¯æ–¹æ³•**ï¼šä¸Žæ®‹å±€ç†è®ºä¹¦ç±ä¸€è‡´æ€§éªŒè¯

### æŒ‘æˆ˜2ï¼šè®¡ç®—æ·±åº¦è¦æ±‚
- **è§£å†³æ–¹æ¡ˆ**ï¼šåˆ†å±‚è®¡ç®—ï¼Œæ¸è¿›å¼éš¾åº¦
- **ç›®æ ‡**ï¼šæ”¯æŒ50æ­¥ä»¥ä¸Šæ·±åº¦è®¡ç®—

### æŒ‘æˆ˜3ï¼šä¸ªæ€§åŒ–é€‚é…
- **è§£å†³æ–¹æ¡ˆ**ï¼šåŸºäºŽå®žé™…å¯¹å±€æ•°æ®çš„å¼±ç‚¹åˆ†æž
- **ç›®æ ‡**ï¼šè®­ç»ƒæŽ¨èå‡†ç¡®çŽ‡ > 75%

## æ•°æ®æ¨¡åž‹

### æ®‹å±€è®­ç»ƒè®°å½•
```typescript
interface EndgameTrainingRecord {
  userId: string;
  endgameType: string;
  trainingMode: 'technical' | 'calculation' | 'practical' | 'targeted';
  positionId: string;
  startTime: Date;
  endTime: Date;
  timeSpent: number;

  // æŠ€æœ¯è®­ç»ƒç‰¹æœ‰
  technicalAccuracy?: number;
  techniqueUsed?: string;
  theoryApplied?: boolean;

  // è®¡ç®—è®­ç»ƒç‰¹æœ‰
  calculationDepth?: number; // è®¡ç®—æ­¥æ•°
  calculationAccuracy?: number;
  variationsConsidered?: number;

  // å®žæˆ˜è®­ç»ƒç‰¹æœ‰
  decisionQuality?: number;
  result?: 'win' | 'draw' | 'loss';
  advantageConversion?: number; // ä¼˜åŠ¿è½¬åŒ–æ•ˆçŽ‡

  // é€šç”¨æŒ‡æ ‡
  confidence: number; // 0-1, è‡ªä¿¡å¿ƒ
  difficulty: number; // 1-5, æ„ŸçŸ¥éš¾åº¦
}
```

## æµ‹è¯•è®¡åˆ’

### æŠ€æœ¯å‡†ç¡®æ€§æµ‹è¯•
- æ®‹å±€ç†è®ºæ­£ç¡®æ€§éªŒè¯
- è¯„ä¼°å¼•æ“Žå‡†ç¡®æ€§æµ‹è¯•
- è®­ç»ƒé¢˜ç›®è´¨é‡æµ‹è¯•

### å­¦ä¹ æ•ˆæžœæµ‹è¯•
- æ®‹å±€æŠ€æœ¯æŽŒæ¡åº¦å‰åŽå¯¹æ¯”
- è®¡ç®—èƒ½åŠ›æå‡æµ‹è¯•
- å®žæˆ˜æ®‹å±€èƒœçŽ‡å˜åŒ–æµ‹è¯•

### ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
- ä¸ªæ€§åŒ–æŽ¨èå‡†ç¡®æ€§æµ‹è¯•
- è®­ç»ƒæ¨¡å¼å®Œæ•´æ€§æµ‹è¯•
- è¿›åº¦è¿½è¸ªå‡†ç¡®æ€§æµ‹è¯•

## æˆåŠŸæ ‡å‡†
- æ®‹å±€æŠ€æœ¯æŽŒæ¡åº¦ > 70%
- è®¡ç®—å‡†ç¡®çŽ‡æå‡ > 30%
- ä¼˜åŠ¿æ®‹å±€è½¬åŒ–çŽ‡ > 80%
- åŠ£åŠ¿æ®‹å±€å’Œæ£‹çŽ‡ > 40%